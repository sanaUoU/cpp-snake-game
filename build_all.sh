#!/bin/bash

clear
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘          ðŸ è´ªåƒè›‡æ¸¸æˆ - ä¸€é”®æ‰“åŒ…ç³»ç»Ÿ ðŸŽ®                â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# æ£€æµ‹æ“ä½œç³»ç»Ÿ
if [[ "$OSTYPE" == "darwin"* ]]; then
    CURRENT_OS="Mac"
else
    CURRENT_OS="Unknown"
fi

echo "å½“å‰ç³»ç»Ÿ: $CURRENT_OS"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# æ‰“åŒ… Mac ç‰ˆæœ¬
if [[ "$CURRENT_OS" == "Mac" ]]; then
    echo "ðŸ“¦ æ­¥éª¤ 1/2: æ‰“åŒ… Mac ç‰ˆæœ¬"
    echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    bash build_mac.sh
    
    if [ $? -eq 0 ]; then
        echo "âœ… Mac ç‰ˆæœ¬æ‰“åŒ…å®Œæˆ"
    else
        echo "âŒ Mac ç‰ˆæœ¬æ‰“åŒ…å¤±è´¥"
        exit 1
    fi
else
    echo "âš ï¸  ä¸æ˜¯ Mac ç³»ç»Ÿï¼Œè·³è¿‡ Mac æ‰“åŒ…"
fi

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ðŸ“¦ æ­¥éª¤ 2/2: Windows ç‰ˆæœ¬è¯´æ˜Ž"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "åœ¨ Windows ç”µè„‘ä¸Šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š"
echo ""
echo "1. å®‰è£… MinGW-w64 (C++ ç¼–è¯‘å™¨)"
echo "   ä¸‹è½½: https://www.mingw-w64.org/"
echo ""
echo "2. ä¸‹è½½ SFML 3.0 for Windows"
echo "   ä¸‹è½½: https://www.sfml-dev.org/download.php"
echo "   è§£åŽ‹åˆ° C:\\SFML"
echo ""
echo "3. å°†é¡¹ç›®æ–‡ä»¶å¤¹å¤åˆ¶åˆ° Windows ç”µè„‘"
echo ""
echo "4. è¿è¡Œ build_windows.bat"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# åˆ›å»ºå‘å¸ƒè¯´æ˜Ž
cat > releases/README.md << 'EOF'
# ðŸ è´ªåƒè›‡æ¸¸æˆ - å‘å¸ƒç‰ˆæœ¬

## ðŸ“¦ åŒ…å«å†…å®¹

### Mac ç‰ˆæœ¬
- `mac/SnakeGame.app` - macOS åº”ç”¨ç¨‹åº
- `mac/SnakeGame-Mac.zip` - åŽ‹ç¼©åŒ…ï¼ˆç”¨äºŽåˆ†å‘ï¼‰

**å®‰è£…æ–¹æ³•ï¼ˆMacï¼‰ï¼š**
1. è§£åŽ‹ `SnakeGame-Mac.zip`
2. åŒå‡» `SnakeGame.app` å³å¯è¿è¡Œ

**æ³¨æ„ï¼š** é¦–æ¬¡è¿è¡Œå¯èƒ½ä¼šæç¤º"æ— æ³•æ‰“å¼€ï¼Œå› ä¸ºæ— æ³•éªŒè¯å¼€å‘è€…"
è§£å†³æ–¹æ³•ï¼šå³é”®ç‚¹å‡» â†’ æ‰“å¼€ â†’ ä»è¦æ‰“å¼€

### Windows ç‰ˆæœ¬
- `windows/SnakeGame.exe` - Windows å¯æ‰§è¡Œæ–‡ä»¶
- `windows/*.dll` - SFML è¿è¡Œåº“
- `windows/README.txt` - è¯´æ˜Žæ–‡ä»¶

**å®‰è£…æ–¹æ³•ï¼ˆWindowsï¼‰ï¼š**
1. è§£åŽ‹æ‰€æœ‰æ–‡ä»¶åˆ°åŒä¸€æ–‡ä»¶å¤¹
2. åŒå‡» `SnakeGame.exe` è¿è¡Œ

## ðŸŽ® æ¸¸æˆæ“ä½œ

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| â†‘â†“â†â†’ | æŽ§åˆ¶æ–¹å‘ |
| W A S D | ä¹Ÿå¯ä½¿ç”¨ WASD |
| ç©ºæ ¼ | é‡æ–°å¼€å§‹ |

## ðŸŽ¯ æ¸¸æˆè§„åˆ™

- åƒçº¢è‰²é£Ÿç‰©å¢žé•¿
- æ¯ä¸ªé£Ÿç‰© +10 åˆ†
- æ’žå¢™æˆ–æ’žåˆ°è‡ªå·±ä¼šå¤±è´¥
- é€Ÿåº¦ä¼šè¶Šæ¥è¶Šå¿«

## ðŸ“Š æŠ€æœ¯ä¿¡æ¯

- **å¼•æ“Ž**: SFML 3.0
- **è¯­è¨€**: C++20
- **æ–‡ä»¶å¤§å°**: ~5-10 MB
- **å†…å­˜å ç”¨**: ~10-20 MB

## ðŸ› é—®é¢˜åé¦ˆ

å¦‚æœ‰é—®é¢˜è¯·è”ç³»å¼€å‘è€…ã€‚

---

**ç‰ˆæœ¬**: 1.0  
**å‘å¸ƒæ—¥æœŸ**: 2025
EOF

echo ""
echo "ðŸ“‹ å‘å¸ƒè¯´æ˜Žå·²åˆ›å»º: releases/README.md"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âœ… æ‰“åŒ…æµç¨‹å®Œæˆï¼"
echo ""
echo "ðŸ“ è¾“å‡ºç›®å½•ï¼š"
echo "   releases/"
echo "   â”œâ”€â”€ mac/"
echo "   â”‚   â”œâ”€â”€ SnakeGame.app"
echo "   â”‚   â””â”€â”€ SnakeGame-Mac.zip"
echo "   â””â”€â”€ README.md"
echo ""
echo "ðŸŽ åˆ†å‘å»ºè®®ï¼š"
echo "   - Mac ç”¨æˆ·: å‘é€ SnakeGame-Mac.zip"
echo "   - Windows ç”¨æˆ·: åœ¨ Windows ä¸Šè¿è¡Œ build_windows.bat åŽ"
echo "     æ‰“åŒ…æ•´ä¸ª releases/windows/ æ–‡ä»¶å¤¹"
echo ""
echo "ðŸŽ® çŽ°åœ¨å¯ä»¥æµ‹è¯• Mac ç‰ˆæœ¬:"
echo "   open SnakeGame.app"
echo ""
